(function(){"use strict";var e={3036:function(e,n,t){var o=t(9242),r=t(3396);function i(e,n,t,o,i,a){const l=(0,r.up)("router-view");return(0,r.wg)(),(0,r.iD)("div",null,[(0,r.Wm)(l)])}var a={name:"App"},l=t(89);const d=(0,l.Z)(a,[["render",i]]);var u=d,c=t(2483);function s(e,n,t,o,i,a){const l=(0,r.up)("video-uploader"),d=(0,r.up)("video-player");return(0,r.wg)(),(0,r.iD)("div",null,[(0,r.Wm)(l),(0,r.Wm)(d)])}const f=["disabled"];function p(e,n,t,o,i,a){return(0,r.wg)(),(0,r.iD)("div",null,[(0,r._)("input",{type:"file",onChange:n[0]||(n[0]=(...e)=>a.onFileChange&&a.onFileChange(...e)),accept:"video/*"},null,32),(0,r._)("button",{onClick:n[1]||(n[1]=(...e)=>a.uploadVideo&&a.uploadVideo(...e)),disabled:i.uploading},"Upload",8,f)])}var v=t(4161),h={data(){return{videoFile:null,uploading:!1}},methods:{onFileChange(e){this.videoFile=e.target.files[0]},async uploadVideo(){this.uploading=!0;const e=new FormData;e.append("video",this.videoFile);try{await v.Z.post("/api/upload",e)}catch(n){console.error("Error uploading video:",n)}finally{this.uploading=!1}}}};const w=(0,l.Z)(h,[["render",p]]);var g=w,b=t(7139);const y=["src"],m={key:0},D=["disabled"];function O(e,n,t,o,i,a){return(0,r.wg)(),(0,r.iD)("div",null,[(0,r._)("video",{ref:"videoPlayer",controls:"",src:i.videoUrl},null,8,y),i.subtitleData?((0,r.wg)(),(0,r.iD)("div",m,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(i.subtitleData,(e=>((0,r.wg)(),(0,r.iD)("div",{key:e.index,class:"subtitle"},(0,b.zw)(e.text),1)))),128))])):(0,r.kq)("",!0),(0,r._)("button",{onClick:n[0]||(n[0]=(...e)=>a.downloadVideo&&a.downloadVideo(...e)),disabled:i.downloading},"Download Processed Video",8,D)])}t(6229),t(7330),t(2062);var k={data(){return{videoUrl:"",subtitleData:null,downloading:!1}},async mounted(){try{this.videoUrl=await this.fetchVideoUrl(),this.subtitleData=await this.fetchSubtitleData()}catch(e){console.error("Error fetching data:",e)}},methods:{async fetchVideoUrl(){try{const e=await v.Z.get("/api/video_url");return e.data.videoUrl}catch(e){return console.error("Error fetching video URL:",e),""}},async fetchSubtitleData(){try{const e=await v.Z.get("/api/subtitles");return e.data}catch(e){return console.error("Error fetching subtitle data:",e),null}},async downloadVideo(){this.downloading=!0;try{const e=await v.Z.get("/api/download",{responseType:"blob"}),n=window.URL.createObjectURL(new Blob([e.data])),t=document.createElement("a");t.href=n,t.setAttribute("download","processed_video.mp4"),document.body.appendChild(t),t.click()}catch(e){console.error("Error downloading video:",e)}finally{this.downloading=!1}}}};const U=(0,l.Z)(k,[["render",O]]);var V=U,C={components:{VideoUploader:g,VideoPlayer:V}};const F=(0,l.Z)(C,[["render",s]]);var Z=F;const _=[{path:"/",component:Z}],j=(0,c.p7)({history:(0,c.PO)(),routes:_});(0,o.ri)(u).use(j).mount("#app")}},n={};function t(o){var r=n[o];if(void 0!==r)return r.exports;var i=n[o]={exports:{}};return e[o].call(i.exports,i,i.exports,t),i.exports}t.m=e,function(){var e=[];t.O=function(n,o,r,i){if(!o){var a=1/0;for(c=0;c<e.length;c++){o=e[c][0],r=e[c][1],i=e[c][2];for(var l=!0,d=0;d<o.length;d++)(!1&i||a>=i)&&Object.keys(t.O).every((function(e){return t.O[e](o[d])}))?o.splice(d--,1):(l=!1,i<a&&(a=i));if(l){e.splice(c--,1);var u=r();void 0!==u&&(n=u)}}return n}i=i||0;for(var c=e.length;c>0&&e[c-1][2]>i;c--)e[c]=e[c-1];e[c]=[o,r,i]}}(),function(){t.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(n,{a:n}),n}}(),function(){t.d=function(e,n){for(var o in n)t.o(n,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:n[o]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)}}(),function(){var e={143:0};t.O.j=function(n){return 0===e[n]};var n=function(n,o){var r,i,a=o[0],l=o[1],d=o[2],u=0;if(a.some((function(n){return 0!==e[n]}))){for(r in l)t.o(l,r)&&(t.m[r]=l[r]);if(d)var c=d(t)}for(n&&n(o);u<a.length;u++)i=a[u],t.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return t.O(c)},o=self["webpackChunknew"]=self["webpackChunknew"]||[];o.forEach(n.bind(null,0)),o.push=n.bind(null,o.push.bind(o))}();var o=t.O(void 0,[998],(function(){return t(3036)}));o=t.O(o)})();
//# sourceMappingURL=app.d971393f.js.map